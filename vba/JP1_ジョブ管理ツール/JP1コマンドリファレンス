ajsshow

形式

ajsshow
     [-F サービス名]
     [{-s|-p|-l|-xw|-r|-f "フォーマット指示子"
                  |-i "2バイトフォーマット指示子"}]
     [-t "フォーマット指示子"]
     [-k]
     [-g {世代数|a}
        |-b 年/月[/日] [-e 年/月[/日]]
        |-v 年/月[/日] [-w 年/月[/日]]
        |-B 実行登録番号]
     [-u ユーザー名]
     [-c]
     [-R]
     [-E]
     [-T]
     [-N|-J]
     [-d [[年/]月/]日]
     [-h 時[:分]]
     [-X {yes|no|auto}]
     ジョブ名，ジョブネット名，またはジョブグループ名...
 
機能

実行登録済みのジョブネットまたはジョブの，前回までの実行結果，現在の状態，および次回の実行予定などの情報を標準出力ファイルに出力します（出力形式については，後述の「補足事項1」を参照してください）。

実行権限

次に示すJP1権限レベルのどれかを与えられたユーザー

JP1_AJS_Admin権限
JP1_AJS_Manager権限
JP1_AJS_Editor権限
JP1_AJS_Operator権限
JP1_AJS_Guest権限
引数

-F サービス名

処理対象とする，スケジューラーサービスのサービス名を指定します。

指定できる文字数は，1～30（単位：バイト）です。

-s

指定したジョブネットの次回実行予定の実行登録情報を出力します。

次回実行予定がない場合，前回の実行結果または実行中のジョブネットの実行登録情報を出力します。

なお，計画実行登録したジョブネットで次回予定がない場合，次回実行予定として未計画の世代を生成するため，次回実行予定がない状態でこのオプションを指定すると，「状態」の欄に「未計画」と出力します。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるルートジョブネットの中で，次回実行予定のジョブネットを選択し，実行登録情報を出力します。次回実行予定がない場合，前回の実行結果または実行中のジョブネットを選択し，実行登録情報を出力します。

このオプションは，ジョブには指定できません。

このオプションは，-p，-l，-xw，-r，-f，-i，-g，-b，-e，-v，-w，-B，-Jオプションと同時には指定できません。

ジョブ名，ジョブネット名，またはジョブグループ名に実行IDを指定する場合，このオプションは指定できません。

-p

指定したジョブネットの，次回の実行予定情報を出力します。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるルートジョブネットの中で次回実行予定のジョブネットの次回予定情報を出力します。

このオプションは，ジョブには指定できません。

このオプションは，-s，-l，-xw，-r，-f，-i，-g，-b，-e，-v，-w，-B，-Jオプションと同時には指定できません。

ジョブ名，ジョブネット名，またはジョブグループ名に実行IDを指定する場合，このオプションは指定できません。

-l

指定したジョブネット，およびそのジョブネット中のジョブネットおよびジョブの実行結果情報を出力します。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるルートジョブネットの中で，世代番号1の世代から-gオプションで指定した世代数分のジョブネットまたはジョブの結果情報を出力します。

このオプションは，-s，-p，-xw，-r，-f，-i，-b，-e，-v，-w，-Bオプションと同時には指定できません。

ジョブ名，ジョブネット名，またはジョブグループ名に実行IDを指定する場合，このオプションは指定できません。

-xw

指定した待ち合わせ条件付きユニットおよび待ち合わせ条件付きユニットに設定されている待ち合わせ対象ユニットの状態を出力します。待ち合わせ対象ユニットの情報は，現在待ち合わせ対象となっている世代の情報を出力します。詳細については，マニュアル「JP1/Automatic Job Management System 3 設計ガイド（業務設計編）　2.2.5(7) 待ち合わせ対象ユニットの確認方法」を参照してください。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるルートジョブネットの中で，世代番号1の世代から-gオプションで指定した世代数分のジョブネットまたはジョブの結果情報を出力します。

このオプションは，-l，-s，-p，-r，-f，-i，-b，-e，-v，-wオプションと同時には指定できません。

このオプションは，データベース構成が標準構成のときにだけ使用できます。

-Bオプションまたはユニット名に実行IDを指定した場合，対象となる世代の情報だけを出力します。

-gオプションに1以上の値を指定した場合，世代番号1の世代から-gオプションで指定した世代数分の結果情報を出力します。ただし，世代番号1の世代がない場合，世代番号0の世代の情報を出力します。

-gオプションに0を指定した場合，世代番号0の世代の結果情報を出力します。

-Bオプション，実行ID，および-gオプションのすべてを省略した場合，-gに1が指定されたと仮定します。

-r

指定したジョブの標準エラー出力ファイル名を出力します。

指定したジョブが標準エラー出力に出力していない場合でも，仮定した標準エラー出力ファイル名を出力します。

このオプションは，-s，-p，-l，-xw，-f，-i，-T，-Nオプションと同時には指定できません。

-f "フォーマット指示子"

指定したジョブネットまたはジョブについて，フォーマット指示子で指定した情報を出力します。

フォーマット指示子は，%と1バイトの英字で指定します。フォーマット指示子の詳細については，後述の「補足事項1」を参照してください。

「"（ダブルクォーテーションマーク）」で囲んだフォーマット指示子以外の文字は，指定したとおりに出力されます。

-i "2バイトフォーマット指示子"

指定したジョブネットまたはジョブについて，フォーマット指示子で指定した情報を出力します。

フォーマット指示子は，%と2バイトの英字で指定します。フォーマット指示子の詳細については，後述の「補足事項1」を参照してください。

「"（ダブルクォーテーションマーク）」で囲んだフォーマット指示子以外の文字は，指定したとおりに出力されます。

-t "フォーマット指示子"

フォーマット指示子で指定した情報をタイトル行に出力します。

フォーマット指示子は，%と1バイトの英字で指定します。フォーマット指示子の詳細については，後述の「補足事項1」を参照してください。

「"（ダブルクォーテーションマーク）」で囲んだフォーマット指示子以外の文字は，指定したとおりに出力されます。

このオプションは，-f，または-iオプションと同時に指定してください。-s，-p，-l，-xw，-kオプションと同時に指定すると，このオプションは無効になります。

-k

タイトル行を出力しません。

なお，このオプションを-s，-p，-l，-xwオプションと同時に指定した場合，「AJSPATH=」行だけは出力します。

-g {世代数|a}

実行結果情報を，新しい世代から順に指定した世代まで出力します。

省略した場合，世代数として1が仮定されます。また，世代数に1を指定した場合も，世代番号1がないときは，世代数として0が仮定されます。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるルートジョブネットの中で，世代番号0または世代番号1の世代から指定した世代数分のジョブネットまたはジョブの情報を出力します。

このオプションは，-s，-p，-b，-e，-v，-w，-Bオプションと同時には指定できません。

世代数
指定できる値は，0～99（単位：世代）です。ただし，システム設定オプションを有効にしておくと，最大999（単位：世代）まで拡張できます。
0を指定すると，実行前や保留中のジョブネットの情報を出力します（この場合，-lオプションと同時には指定できません）。
なお，ネストジョブネットの場合，そのジョブネットが実行前や保留中であっても，そのジョブネットのルートジョブネットが実行中のときは，世代数は1になります。
世代数が0でない場合に-lオプションを指定すると，タイトル行に世代番号を出力します。
a
すべての世代の実行結果情報を出力します。
一度も実行されていないユニットに対してコマンドを実行した場合，世代番号0の結果を出力します。すでに実行済みのユニットに対してコマンドを実行した場合，世代番号1以上の結果を出力します。

-b 年/月[/日]

情報を出力する期間の開始日を暦日で指定します。

なお，開始時刻は基準時刻です。

年
指定できる値は，1994～2036（単位：西暦年）です。
月
指定できる値は，1（または01）～12（単位：月）です。
日
指定できる値は，1（または01）～31（単位：日）です。省略した場合，「年」および「月」に指定した年月の基準日が仮定されます。
情報を出力する期間の終了日は-eオプションで指定します。

開始日から終了日の期間内に，指定したユニットの予定，または結果情報がある場合，情報を出力します。

開始日から終了日の期間内に，指定したユニットの予定，または結果情報がない場合，情報は出力しません。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるジョブネットの中で，指定した期間に結果または予定情報があるユニットの情報を出力します。

このオプションは，-fまたは-iオプションと同時に指定してください。-s，-p，-l，-xw，-g，-v，-w，-Bオプションと同時には指定できません。

このオプションの使用方法は，後述の使用例を参照してください。

-e 年/月[/日]

情報を出力する期間の終了日を暦日で指定します。

終了日には開始日と同じ日，または開始日以降の日を指定します。

省略した場合，-bオプションに指定した日が仮定されます。

なお，終了時刻は基準時刻に23時間59分59秒を加えた時刻です。

年
指定できる値は，1994～2036（単位：西暦年）です。
月
指定できる値は，1（または01）～12（単位：月）です。
日
指定できる値は，1（または01）～31（単位：日）です。省略した場合，「年」および「月」に指定した年月の，基準日を基にした最終日が仮定されます（例えば，基準日を20日に設定している場合は，最終日として19日が仮定されます）。
このオプションは，-fまたは-i，および-bオプションと同時に指定してください。-s，-p，-l，-xw，-g，-v，-w，-Bオプションと同時には指定できません。

-v 年/月[/日]

情報を出力する期間の開始日を実行日で指定します。

なお，開始時刻は基準時刻です。

年
指定できる値は，1994～2036（単位：西暦年）です。
月
指定できる値は，1（または01）～12（単位：月）です。
日
指定できる値は，1（または01）～31（単位：日）です。省略した場合，「年」および「月」に指定した年月の基準日が仮定されます。
開始日から終了日の期間内に，指定したユニット上位のルートジョブネットの予定，または結果情報がある場合，指定したユニットの情報を出力します。

開始日から終了日の期間内に，上位のルートジョブネットに予定，または結果情報がある場合，指定したユニットの予定，または結果情報が-v，-wオプションに指定した期間にない場合でも，指定したユニット配下のすべて（未計画のユニットも含む）の情報を出力します。

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるジョブネットの中で，指定した期間に結果または予定情報があるユニットの情報を出力します。

このオプションは，-fまたは-iオプションと同時に指定してください。-s，-p，-l，-xw，-g，-b，-e，-Bオプションと同時には指定できません。

このオプションの使用方法は，後述の使用例を参照してください。

-w 年/月[/日]

情報を出力する期間の終了日を実行日で指定します。

終了日には開始日と同じ日，または開始日以降の日を指定します。

省略した場合，-vオプションに指定した日が仮定されます。

なお，終了時刻は基準時刻に23時間59分59秒を加えた時刻です。

年
指定できる値は，1994～2036（単位：西暦年）です。
月
指定できる値は，1（または01）～12（単位：月）です。
日
指定できる値は，1（または01）～31（単位：日）です。省略した場合，「年」および「月」に指定した年月の，基準日を基にした最終日が仮定されます（例えば，基準日を20日に設定している場合は，最終日として19日が仮定されます）。
このオプションは，-fまたは-i，および-vオプションと同時に指定してください。-s，-p，-l，-xw，-g，-b，-e，-Bオプションと同時には指定できません。

-B 実行登録番号

情報を表示するジョブネットの実行登録番号を「YYYYMMDDNNN」の形式で指定します。「YYYYMMDDNNN」の内容を次に示します。

YYYY：実行年

MM：実行月

DD：実行日

NNN：実行年月日の実行登録順序番号

操作するユニットを自動的に選択する機能を使用する場合，プランニンググループの下にあるジョブネットの中で，実行登録番号があるユニットの情報を出力します。

実行登録番号の詳細については，マニュアル「JP1/Automatic Job Management System 3 導入ガイド　4.5.13 コマンド実行時の世代の指定方法」を参照してください。

このオプションは，-s，-p，-l，-g，-b，-e，-v，-wオプションと同時には指定できません。このオプションは，-f，-i，-r，または-xwオプションと同時に指定してください。

-u ユーザー名

指定したユーザーが実行登録したジョブネットの情報を出力する場合に，ユーザー名を指定します。

指定できる文字数は，1～31（単位：バイト）です。

-c

指定したジョブネットまたはジョブだけの情報を取得し，高速で出力します。

サスペンド中に追加したジョブネットまたはジョブの情報は取得できません。

フォーマット指示子，%B，%b，%O，%oの情報は「****/**/** **:**:**」または「****/**/** **:**」で表示されます。

フォーマット指示子，%aの情報は「00:00:00」で表示されます。

このオプションは，-f，-i，または-rオプションと同時に指定してください。

このオプションは，-s，-p，-l，-xw，-b，-e，-v，-w，-Rオプションと同時には指定できません。ただし，-Rオプションは-Tオプションと同時に指定した場合だけ指定できます。

-R

指定したユニットに含まれるすべてのジョブネットの情報またはジョブの情報を出力します。

このオプションを，-E，-T，-N，-Jオプションと同時に指定した場合，各オプションの指定内容に従って，ジョブネットおよびジョブの情報を出力します。

-E

実行登録済みのジョブネットの情報を出力します。

-T

ルートジョブネットの情報を出力します。

このオプションは，-r，-Jオプションと同時には指定できません。

-N

ジョブネットの情報を出力します。

このオプションは，-r，-Jオプションと同時には指定できません。

-J

ジョブの情報を出力します。

このオプションは，-s，-p，-T，-Nオプションと同時には指定できません。

-d [[年/]月/]日

ルートジョブネットの再実行開始日を指定します。-iオプションに2バイトフォーマット指示子の%abまたは%anを指定して推定所要時間を求めるときにこのオプションを指定します。

年
指定できる値は，1994～2036（単位：西暦年）です。
月
指定できる値は，1（または01）～12（単位：月）です。
日
指定できる値は，1（または01）～31（単位：日）です。
このオプションで年，または年/月の指定を省略した場合，次の値が仮定されます。

年：コマンドを実行した年

年/月：コマンドを実行した年と月

省略した場合，コマンドを実行した年月日が仮定されます。

-iオプションに2バイトフォーマット指示子の%abまたは%anが指定されていない場合，このオプションは無効になります。

このオプションは，-s，-p，-l，-xw，-r，-f，-g，-B，-cオプションと同時には指定できません。

-iオプション，および-bオプションまたは-vオプションと同時に指定します。

-h 時[:分]

ルートジョブネットの再実行開始時刻を指定します。-iオプションに2バイトフォーマット指示子の%abまたは%anを指定して推定所要時間を求めるときにこのオプションを指定します。

時
指定できる値は，0（または00）～24（単位：時）です。
分
指定できる値は，0（または00）～59（単位：分）です。省略した場合，0が仮定されます。
省略した場合，コマンドを実行した時刻が仮定されます。

-iオプションに2バイトフォーマット識別子の%abまたは%anが指定されていない場合，このオプションは無効になります。

このオプションは，-s，-p，-l，-xw，-r，-f，-g，-B，-cオプションと同時には指定できません。

-iオプション，および-bオプションまたは-vオプションと同時に指定します。

-X {yes|no|auto}

プランニンググループの下にあるユニットの中から，現在運用中のユニットを自動的に選択して操作するかどうかを指定します。ただし，ジョブグループの下にあるユニットに対しては，どの値を指定しても自動的に選択しません。また，ルートジョブネット名称も省略できません。

yes
自動的に選択して操作する場合に指定します。
コマンドに指定するユニット名は，プランニンググループの下のルートジョブネット名を省略して指定します。
no
自動的に選択して操作しない場合に指定します。
指定したユニットに対して操作します。プランニンググループの下のルートジョブネット名を省略して指定することはできません。
auto
ユニット名の指定方法に従って，自動的に選択して操作するかしないかを決定する場合に指定します。
自動的に選択して操作する場合
プランニンググループの下のルートジョブネット名を省略してユニット名を指定します。
自動的に選択して操作しない場合
プランニンググループの下のルートジョブネット名を省略しないでユニット名を指定します。この場合，指定したユニットが操作対象になります。ただし，プランニンググループの下のルートジョブネット名を省略して指定したパス名と同じ名称のユニットがある場合，省略したものとして扱われ，操作対象のユニットが自動選択されます。
ジョブ名，ジョブネット名，またはジョブグループ名

情報を出力するジョブ名，ジョブネット名，または-R，-E，-T，-N，-Jオプションと同時に，ジョブ名，ジョブネット名，またはジョブグループ名を指定します。

指定できる文字数は，1～930（単位：バイト）です。

ジョブ名，ジョブネット名，またはジョブグループ名は，複数指定できます。ただし，マネージャージョブグループ名とマネージャージョブネット名は指定できません。

なお，ジョブ名，ジョブネット名，またはジョブグループ名に，論理ホスト名および実行IDを指定できます。ただし，実行IDを指定した場合，-g，-b，-e，-v，-w，-Bオプションは無効になります。

ジョブ名，ジョブネット名，またはジョブグループ名に実行IDを指定する場合，-f，-i，-r，または-xwオプションと同時に指定してください。また，-s，-p，または-l（デフォルト）オプションを指定した場合，実行IDは指定できません。実行IDの指定方法については，「1.1 コマンドの記述形式」を参照してください。

注意事項

出力情報から情報を切り出す場合，固定バイトでの切り出しではなく，スペースを区切り文字として情報の切り出しをしてください。
情報を出力できるのは，そのジョブネットやジョブを定義したときに，またはそれら属性を変更したときに，参照権限，操作権限，または更新権限を与えられたユーザーだけです。ただし，Administrators権限（Windowsの場合），またはスーパーユーザー権限（UNIXの場合）を持つユーザーは，情報を出力できます。
情報を出力する期間は，-b，-eオプションの組み合わせ，または-v，-wオプションの組み合わせで指定します。-b，-eオプションを組み合わせて期間を指定した場合の出力内容と，-v，-wオプションを組み合わせて期間を指定した場合の出力内容は異なります。詳細については後述の「使用例5」を参照してください。
-b，-e，-v，-wオプションで情報を出力する期間を指定した場合，情報は古い世代から順に出力されます。
サスペンド中のルートジョブネットに追加したユニットは，ルートジョブネットのサスペンドが解除されるまで出力の対象となりません。サスペンド解除後は，シミュレーションした結果を出力します。そのため，サスペンドの解除前と解除後では出力結果が異なります。
-cオプションと-gで世代数を指定した場合で，複数ユニットを同時に指定したときは，ジョブネットまたはジョブごとに実行結果情報を新しい世代から順に指定した世代まで出力します。
プランニンググループの下にあるユニットの中から操作するユニットを自動的に選択する指定をした場合に，自動的に選択されたユニットに操作権限がないと，エラーになります。
-Xオプションが省略された場合，環境変数AJSAUTOJUDGEの指定値に従って，プランニンググループの下にあるユニットの操作対象が決定されます。
プランニンググループの下にあるユニット名の指定方法については，「2. コマンド　ajsplan」の「補足事項」を参照してください。
-s，-p，-r，-f，-iオプションを指定しなかった場合，-lが指定されたものとして処理されます。
-l，-r，-f，-iオプションを指定し，-g，-b，-e，-v，-w，-B，実行IDを指定しなかった場合，「-g 1」が指定されたものとして処理されます。
-b，-eまたは-v，-wオプションを指定した場合，スケジュールシミュレーションおよび実行シミュレーションを行います。-g（デフォルト），-Bまたは実行ID指定時はシミュレーションを行いません。シミュレーションについては，マニュアル「JP1/Automatic Job Management System 3 導入ガイド　4.4.2 シミュレーション」を参照してください。
戻り値

0	正常終了。
4～124で4の倍数値	異常終了。
補足事項1

ジョブネット，およびジョブの定義内容を出力するフォーマット指示子を表2-16に示します。

ジョブネット，およびジョブの定義内容を出力する2バイトフォーマット指示子を表2-17に示します。

その他のフォーマット指示子を表2-18に示します。

フォーマット指示子の出力形式を表2-19に示します。

 
表2-16　ジョブネットとジョブの定義情報を出力するフォーマット指示子

フォーマット指示子	出力情報	-f	-t
%J	ジョブネット完全名，またはジョブ完全名	○	○
%j	ジョブネット名，またはジョブ名
30バイト以内の文字列	○	○
%A	AJSPATH=で表される内容
%Jで表される内容のうち，最右端の「/」より右の部分を除いた内容	○	○
%T	ユニットの種別
condn：起動条件（.CONDITION）
net：ジョブネット
rnet：リカバリージョブネット
rmnet：リモートジョブネット
rrnet：リカバリーリモートジョブネット
job：UNIXジョブ
rjob：リカバリーUNIXジョブ
pjob：PCジョブ
rpjob：リカバリーPCジョブ
qjob：QUEUEジョブ
rqjob：リカバリーQUEUEジョブ
jdjob：判定ジョブ
rjdjob：リカバリー判定ジョブ
orjob：ORジョブ
rorjob：リカバリーORジョブ
cmsjb：JP1/Cm2状態通知ジョブ
rcmsjb：リカバリーJP1/Cm2状態通知ジョブ
evwjb：JP1イベント受信監視ジョブ
revwjb：リカバリーJP1イベント受信監視ジョブ
flwjb：ファイル監視ジョブ
rflwjb：リカバリーファイル監視ジョブ
mlwjb：メール受信監視ジョブ
rmlwjb：リカバリーメール受信監視ジョブ
mqwjb：メッセージキュー受信監視ジョブ
rmqwjb：リカバリーメッセージキュー受信監視ジョブ
mswjb：MSMQ受信監視ジョブ
rmswjb：リカバリーMSMQ受信監視ジョブ
lfwjb：ログファイル監視ジョブ
rlfwjb：リカバリーログファイル監視ジョブ
ntwjb：Windowsイベントログ監視ジョブ
rntwjb：リカバリーWindowsイベントログ監視ジョブ
tmwjb：実行間隔制御ジョブ
rtmwjb：リカバリー実行間隔制御ジョブ
evsjb：JP1イベント送信ジョブ
revsjb：リカバリーJP1イベント送信ジョブ
mlsjb：メール送信ジョブ
rmlsjb：リカバリーメール送信ジョブ
mqsjb：メッセージキュー送信ジョブ
rmqsjb：リカバリーメッセージキュー送信ジョブ
mssjb：MSMQ送信ジョブ
rmssjb：リカバリーMSMQ送信ジョブ
pwljb：ローカル電源制御ジョブ
rpwljb：リカバリーローカル電源制御ジョブ
pwrjb：リモート電源制御ジョブ
rpwrjb：リカバリーリモート電源制御ジョブ
cuujb：カスタムUNIXジョブ
rcuujb：リカバリーカスタムUNIXジョブ
cupjb：カスタムPCジョブ
rcupjb：リカバリーカスタムPCジョブ
hlnet：ホストリンクジョブネット
netcn：ジョブネットコネクタ	○	○
%C	ジョブネットの状態，またはジョブの状態	○
※10	×
%U	ジョブネットの実行登録ユーザー名
31バイト以内の文字列	○
※9	×
%D	ジョブネットの実行登録日時※7	○
※9	×
%L	ルートジョブネットを0とした場合の，ジョブネットのネスト数	○
※9	○
%p※3	次回実行予定の有無（括弧内は言語種別が英語の場合）
あり（exist）
なし（none）	○
※27	×
%P※3	次回実行予定日時※7	○
※1	×
%M※3	次回実行方法（括弧内は言語種別が英語の場合）
スケジュール（schedule）
一時変更（plan）
振り替え（shift）	○
※1	×
%R	戻り値，またはシグナルコード
戻り値，またはシグナルコードがない場合は，***。	○
※2	×
%S	ジョブネットの実行開始日時，またはジョブのサブミット日時※7	○
※12	×
%s	ジョブネットの実行開始日時，またはジョブのサブミット日時※7	○
※12	×
%K	ジョブネットの再実行開始日時※7	○
※1,
※15	×
%k	ジョブネットの再実行開始日時※7	○
※1,
※15	×
%E	ジョブネット，またはジョブの実行終了日時※7	○	×
%e	ジョブネット，またはジョブの実行終了日時※7	○	×
%V	他ホストでの，ジョブの実行開始日時※7	○
※2	×
%Q	他ホストでの，ジョブの実行終了日時※7	○
※2	×
%W	＄LANGの値	○
※9	○
%Z	＄TZの値	○
※9	○
%G	世代番号※8
（予定世代は0以下の値）
（実行中または実行結果世代は1以上の値）	○
※8	○
%N	実行優先順位（括弧内は言語種別が英語の場合）※24
1～5の値
なし（none）	○	×
%H	エージェントホスト名	○
※2	×
%I	ジョブ番号	○
※2,
※17	×
%Y	実行登録後に正常終了したジョブネット，またはジョブの実行回数※13	○	×
%B	処理サイクルの計算から求めた実行開始予定日時※7	○
※4,
※18,
※22	×
%b	処理サイクルの計算から求めた実行開始予定日時※7	○
※4,
※19,
※22	×
%a	
予定または実行中世代の場合
実行所要時間の推定値※7
実行結果世代の場合
実際の実行所要時間※7
○
※5,
※16,
※22	×
%O	処理サイクルの計算から求めた実行終了予定日時※7	○
※4,
※14,
※20,
※22	×
%o	処理サイクルの計算から求めた実行終了予定日時※7	○
※4,
※14,
※21,
※22	×
%v	予実績情報の出力対象期間の開始日時※7	○
※6	○
※6
%w	予実績情報の出力対象期間の終了日時※7	○
※6	○
※6
%F	次回実行予定の保留属性（括弧内は言語種別が英語の場合）※26
する（yes）：保留されている
しない（no）：保留されていない
前回異常時だけ保留（Before Abnormal End）：前回異常時だけ保留する
前回異常警告時だけ保留（Before Warning End）：前回異常警告時だけ保留する	○	×
%i	実行登録方法の種別（括弧内は言語種別が英語の場合）
即時登録（immediate）
確定登録（definit）
計画登録（planned）
擬似予定（simulation）	○
※9	×
%l	実行登録番号※7	○
※8	×
%r	標準エラー出力ファイル名
この項目は，ジョブを実行していない，エラーが発生していないなど，標準エラー出力ファイルがない場合でも，仮定された標準エラー出力ファイル名が出力されます。
（出力例）
/var/opt/jp1ajs2/jobinf/7.14a.0.8.err	○
※8,
※23	×
%d	遅延状態（括弧内は言語種別が英語の場合）
なし（none）
開始遅延（start-delay）
ネスト開始遅延（nest-start-delay）
終了遅延（end-delay）
ネスト終了遅延（nest-end-delay）	○
※25	×
%#	実行ID	○
※8	×
%m	起動条件の有効実行時刻（括弧内は言語種別が英語の場合）
無制限（unlimited）※7	○
※11	×
%q	起動条件の有効実行回数（括弧内は言語種別が英語の場合）
10進数の値
無制限（unlimited）	○
※11	×
（凡例）
○：-f，または-tオプションに指定できるフォーマット指示子。
×：-f，または-tオプション指定できないフォーマット指示子。
注※1
ユニットの種別がnetの場合にだけ有効です。これ以外の場合，「*」と出力されます。
注※2
ユニットの種別がjobの場合にだけ有効です。これ以外の場合，「*」と出力されます。
注※3
世代番号が0のジョブネットの情報です。
注※4
「-g」と同時に指定した場合，「****/**/** **:**」および「****/**/** **:**:**」と出力されます。
注※5
一度も実行していないジョブネットおよびジョブは，1分が仮定されます。
注※6
-b，-e，-v，-wオプションを同時に指定していない場合，「****/**/** **:**:**」と出力されます。
注※7
出力形式については，表2-19を参照してください。
注※8
擬似予定の場合，「***」と出力されます。
注※9
ユニットの種別がnet，hlnetの場合にだけ有効です。これら以外の場合，「***」と出力されます。
注※10
サスペンド中に追加したユニットは，既存の上位ユニットが終了状態の場合，「計画未実行」と出力されます。終了状態以外の場合，「未計画」と出力されます。
注※11
ユニットの種別がnetまたはcondnの場合にだけ有効です。これら以外の場合，「***」と出力されます。
注※12
ジョブの場合，サブミットした時刻が出力されます。キューレスジョブの場合，ジョブ実行要求時刻が出力されます。
注※13
保存世代数や出力する世代にかかわらず，登録後の総計が出力されます。
注※14
「処理サイクルの計算から求めた実行開始予定日時」に「実行所要時間の推定値」を加算した時刻が出力されます。
注※15
ユニットが再実行されたときの開始時刻が表示されます。
再実行開始日時は，ユニットが再実行されたとき，再実行開始点の上位ジョブネットに対して設定されます。 ただし，ルートジョブネットが実行中の場合は，ルートジョブネットに再実行開始日時は設定されません。
ルートジョブネットが終了状態の場合は，再実行開始点にルートジョブネットを指定していると，ルートジョブネットにだけ再実行開始日時が設定されます。
注※16
-b，-e，-v，-w，-Bまたは実行ID指定の場合に出力されます。
それ以外の場合は，「00:00:00」と出力されます。
注※17
キューレスジョブの場合は，「***」と出力されます。
注※18
終了状態のジョブネットまたはジョブの場合は，%St「ジョブネットまたはジョブの，実際の実行開始日時」と同じ日時が出力されます。
注※19
終了状態のジョブネットまたはジョブの場合は，%st「ジョブネットまたはジョブの，実際の実行開始日時」と同じ日時が出力されます。
注※20
終了状態のジョブネットまたはジョブの場合は，%E「ジョブネット，またはジョブの実行終了日時」と同じ日時が出力されます。
注※21
終了状態のジョブネットまたはジョブの場合は，%e「ジョブネット，またはジョブの実行終了日時」と同じ日時が出力されます。
注※22
実行シミュレーションした結果が出力されます。実行シミュレーションの詳細については，マニュアル「JP1/Automatic Job Management System 3 導入ガイド　4.4.2(2) 実行シミュレーション」を参照ください。
スケジュールを一時変更した場合，変更後の時間で実行シミュレーションを行います。
注※23
ユニットの種別がjob，netcn，または接続先のジョブネットの場合にだけ有効です。
これ以外の場合，「***」と出力されます。
注※24
ユニットの種別がnetの場合にだけ有効です。
これ以外の場合，「なし」（言語種別が英語の場合は「none」）と出力されます。
注※25
ユニットの種別が次に示すものの場合だけ有効です。
net，pjob，job，qjob，evwjb，flwjb，mlwjb，mqwjb，mswjb，lfwjb，ntwjb，tmwjb，evsjb，mlsjb，mqsjb，mssjb，cmsjb，pwljb，pwrjb，cupjb，cuujb
これ以外の場合，「***」と出力されます。
注※26
次回実行予定以外（結果・実行中・未計画）の世代を出力した場合，「***」と出力されます。
注※27
ユニットの種別がnetまたはrmnetの場合にだけ有効です。これ以外の場合，「***」と出力されます。
 
表2-17　ジョブネットとジョブの定義情報を出力する2バイトフォーマット指示子

2バイト
フォーマット指示子	出力情報
%SP	サスペンド状態の有無（括弧内は言語種別が英語の場合）
あり（exist）
なし（none）
%OP	ジョブネットの実行日※1
%St	ジョブネットまたはジョブの，実際の実行開始日時※1
%st	ジョブネットまたはジョブの，実際の実行開始日時※1
%Pt	ジョブネットの実行開始予定日時※2，※10
%Jm	ジョブネット完全名，またはジョブ完全名（プランニンググループの下にあるユニットの場合，ルートジョブネット名を省略して出力します）
%Am	AJSPATH=で表される内容（プランニンググループの下にあるユニットの場合，ルートジョブネット名を省略して出力します）
%Jmで表される内容のうち，最右端の「/」より右の部分を除いた内容
%Ed	スケジューラーサービスの起動時に予定時刻が超過した場合の実行抑止※3（括弧内は言語種別が英語の場合）
する（yes）：実行抑止する
しない（no）：実行抑止しない
%cm	コメント※4（80バイト以内の文字列）
%ab	異常終了したジョブを開始してから，ルートジョブネットが終了するまでの実行所要時間の推定値※1，※5
%an	異常終了したジョブの次のユニットを開始してから，ルートジョブネットが終了するまでの実行所要時間の推定値※1，※5
%FG	未来世代数※6（1～99）
%ds	開始遅延の監視日時※1
%de	終了遅延の監視日時※1，※7
%Ft	保留属性（括弧内は言語種別が英語の場合）
保留する（hold）：保留する
保留しない（not-hold）：保留しない
前回異常時だけ保留（abend-hold）：前回異常時だけ保留する
前回異常警告時だけ保留（warning-hold）：前回異常警告時だけ保留する
保留設定（hold-set）：一時的に保留属性が設定されている
保留解除（hold-release）：一時的に保留属性が解除されている
%MV	ジョブネット実行登録時に指定したマクロ変数名と引き継ぎ情報，またはジョブ実行時に引き継いだマクロ変数名と引き継ぎ結果情報※1，※4，※8，※9
%CN	接続相手のユニット完全名※11，※14
ジョブネットコネクタを指定した場合，接続先のジョブネットのユニット完全名
接続先のジョブネットを指定した場合，ジョブネットコネクタのユニット完全名
%CI	接続相手の実行ID※11，※12
ジョブネットコネクタを指定した場合，接続先のジョブネットの実行ID
接続先のジョブネットを指定した場合，ジョブネットコネクタの実行ID
%CS	接続先のジョブネットの実行順序制御方式※13
%CH	接続相手のホスト名※11，※15
ジョブネットコネクタに指定した場合，接続先のジョブネットのホスト名
接続先のジョブネットに指定した場合，ジョブネットコネクタのホスト名
%CF	接続相手のスケジューラーサービス名※11，※15
ジョブネットコネクタに指定した場合，接続先のジョブネットのスケジューラーサービス名
接続先のジョブネットに指定した場合，ジョブネットコネクタのスケジューラーサービス名
%RI	リリースID※16
%so	標準出力ファイル名※17，※18（標準出力を出力しないユニット（ORジョブ，判定ジョブ，イベントジョブ，ジョブネットコネクタ，接続先のジョブネット）を指定した場合や，実行していないユニットを指定した場合など，標準出力ファイルがない場合でも，ジョブの定義に指定した標準出力ファイル名を出力します）
%PW	待ち合わせ条件の不成立の有無（括弧内は言語種別が英語の場合）
あり（exist）：待ち合わせ条件が成立していない
なし（none）：待ち合わせ条件が成立している
***：待ち合わせ条件が定義されていない
注
表2-16に示したフォーマット指示子については，英字を2文字続けると，2バイトフォーマット指示子として指定できます。例えば，「%S」の場合は，「-i %SS」と指定できます（-f，-tオプションには，2バイトフォーマット指示子は指定できません。「-f %JJ」「-t %JJ」「-f %SP」などと指定することはできません）。
注※1
出力形式については，表2-19を参照してください。
注※2
ユニットがジョブネットの場合にだけ有効です。ジョブネット以外の場合，「*」と出力されます。
注※3
ユニットの種別がnet，netcn，rmnet，またはhlnetの場合にだけ有効です。
これら以外の場合，「***」と出力されます。
注※4
文字列の先頭と最後に「"（ダブルクォーテーションマーク）」が出力されます。
出力する値がない場合は「""」だけが出力されます。
注※5
-b，-e，-v，-wオプションを指定した場合にだけ，ルートジョブネットを実行登録してからの実行結果を基に，推定所要時間を算出します。異常終了しているジョブが含まれている世代で，一度も実行していないジョブの推定所要時間は，1分が仮定されます。すでに正常終了しているジョブの，推定所要時間は0秒になります。なお，未実行終了となったユニットの情報は，-b，-eオプションでは出力されません。未実行終了のユニットの情報を出力する場合は-v，-wオプションを使用してください。
推定所要時間については，後述の「補足事項3」を参照してください。
注※6
実行登録時に未来世代数が指定されていなかった場合は「***」と出力されます。世代番号が0のルートジョブネットの情報です。
注※7
実行所要時間による終了遅延監視の監視日時は出力されません。「*」で出力されます。
注※8
ユニットの種別がルートジョブネット（リモートジョブネットを除く）またはジョブの場合にだけ有効です。
これら以外の場合，「***」と出力されます。
注※9
擬似予定の場合，「""」と出力されます。
注※10
スケジュールされている日時を出力します。スケジュールを一時変更した場合，変更後のスケジュールを出力します。
注※11
ユニットの種別がジョブネットコネクタおよびジョブネット（接続先のジョブネット）の場合にだけ有効です。
それ以外の場合，「***」と出力されます。また，ジョブネットコネクタおよび接続先のジョブネットに対して参照権限がない場合も「***」と出力されます。
ジョブネットコネクタおよび接続先のジョブネットの接続相手に不正ユニットが指定されている場合，接続相手の実行ID，ユニット完全名，ホスト名，スケジューラーサービス名は表示されますが，実行時には定義不正のため，異常検出終了になります。
定義不正がないかを確認するには，ajschkdefコマンドにジョブネットコネクタを指定してください。ajschkdefコマンドについては，「2. コマンド　ajschkdef」およびマニュアル「JP1/Automatic Job Management System 3 設計ガイド（業務設計編）　8. 定義内容の事前チェック」を参照してください。
注※12
ジョブネットコネクタと接続先のジョブネットが異なるホストまたは異なるスケジューラーサービスに定義されている場合，予定世代については「***」と出力されます。
異なるホストまたは異なるスケジューラーサービスでジョブネットコネクタおよび接続先のジョブネットの実行IDを確認する手順については，後述の「補足事項4」を参照してください。
注※13
接続先のジョブネットの場合にだけ有効です。それ以外の場合，「***」と出力されます。
注※14
［接続範囲］を［別サービス］とした場合，ユニットに定義した内容が出力されます。
注※15
［接続範囲］を［同一サービス］とした場合，「***」と出力されます。
注※16
リリース登録されたルートジョブネット（リリース先ジョブネット）およびその配下のユニットの場合，リリースIDが出力されます。これら以外の場合，「***」と出力されます。
注※17
ユニットの種別が次に示すものの場合だけ有効です。
net，pjob，job，qjob，evwjb，flwjb，mlwjb，mqwjb，mswjb，lfwjb，ntwjb，tmwjb，evsjb，mlsjb，mqsjb，mssjb，cmsjb，pwljb，pwrjb，cupjb，cuujb，orjob，jdjob，netcn
これ以外の場合，「***」と出力されます。
注※18
擬似予定の場合，「***」と出力されます。
 
表2-18　その他のフォーマット指示子

フォーマット指示子	出力情報
%%	％
%n	改行文字
%t	タブ文字
%x	現在の日※
%X	現在の時刻※
注※
ajsshowコマンドの実行開始日時です。なお，出力形式については，次の表を参照してください。
 
表2-19　フォーマット指示子の出力形式

フォーマット指示子	出力形式
日本語	英語
%D
%P
%S
%E
%K
%V
%Q
%B
%O
%m
%St
%Pt
%ds
%de
YYYY/MM/DD hh:mm
MM，DD，hh，mmの出力けた数が足りない場合は，前にゼロを付けて出力されます。
（例）
2009/07/01 12:30
ただし，ユニットに表示できる情報がない場合，「****/**/** **:**」と出力されます。
MMM DD YYYY hh:mm
DDの出力けた数が足りない場合は，前にスペースが出力されます。
hh，mmの出力けた数が足りない場合は，前にゼロを付けて出力されます。
（例）
Jul 1 2009 12:30
ただし，ユニットに表示できる情報がない場合，「*** ** **** **:**」と出力されます。
%s
%e
%k
%b
%o
%v
%w
%st
YYYY/MM/DD hh:mm:ss
MM，DD，hh，mmの出力けた数が足りない場合は，前にゼロを付けて出力されます。
（例）
2009/07/01 12:30:00
ただし，ユニットに表示できる情報がない場合，「****/**/** **:**:**」と出力されます。
MMM DD YYYY hh:mm:ss
DDの出力けた数が足りない場合は，前にスペースが出力されます。
hh，mmの出力けた数が足りない場合は，前にゼロを付けて出力されます。
（例）
Jul 1 2009 12:30:00
ただし，ユニットに表示できる情報がない場合，「*** ** **** **:**:**」と出力されます。
%x
%OP
YYYY/MM/DD
MM，DD，hh，mmの出力けた数が足りない場合は，前にゼロを付けて出力されます。
（例）
2009/07/01
ただし，ユニットに表示できる情報がない場合，「****/**/**」と出力されます。
MMM DD YYYY
DDの出力けた数が足りない場合は，前にスペースが出力されます。
（例）
Jul 1 2009
ただし，ユニットに表示できる情報がない場合，「*** ** ****」と出力されます。
%X
%a
%ab
%an
hh:mm:ss
（例）
12:30:30
%l
YYYYMMDDNNN
（例）実行登録番号が20090701001のジョブ
20090701001
%MV
"情報1:情報2"[,"情報1:情報2"[...]]
情報1：マクロ変数名
情報2：引き継ぎ情報，または引き継ぎ結果情報
（例1）ルートジョブネットの場合
"AJS2ENV:/data/job_report","AJS2COM:c:\temp\test.exe"
（例2）ジョブの場合
"AJS2ENV:/data/job_report","AJS2COM:c:\temp\test.exe"
補足事項2

プランニンググループの下にあるユニットの中から操作するユニットを自動的に選択する場合と選択しない場合とで，出力情報の違いを次の表に示します。

表2-20　プランニンググループの下にあるユニットの中から操作するユニットを自動的に選択する場合と選択しない場合の出力情報の違い

フォーマット指示子	操作するユニットを自動的に選択する場合	操作するユニットを自動的に選択しない場合
%p
%P
%M	プランニンググループの下にあるユニットの中で，次回の実行予定のユニットの情報	指定したユニットの次回の実行予定
%G	プランニンググループの下にあるルートジョブネットの実行情報を統合した結果から求めた世代番号	指定したユニットだけの世代番号
%l	プランニンググループの下にあるルートジョブネットの実行情報を統合した結果から求めた実行登録番号	指定したユニットだけの実行登録番号
%Y
%a	この情報はユニットごとに持っている情報です。操作する自動的にユニットを選択する機能を指定した場合でも，ユニットごとの情報が出力されます。
%B
%b
%O
%o	処理サイクルの計算から求める情報は，個々のユニットごとに持つ情報を基に計算します。操作するユニットを自動的に選択する機能を指定した場合でも，ユニットごとの情報が出力されます。
次に示すプランニンググループの定義例を使って，-Xオプションの指定の違いによる「%P」「%G」「%l」の出力情報の違いを示します。

プランニンググループ定義例
プランニンググループ（/group1）下に，三つのユニット（/group1/jobnet001，/group1/jobnet002，/group1/jobnet003）があります。
各ユニットの開始予定時刻は次のとおりとします。
 
/group1/jobnet001の開始予定時刻は08:00（絶対時刻）。
/group1/jobnet002 の開始予定時刻は09:00（絶対時刻）。
/group1/jobnet003 の開始予定時刻は10:00（絶対時刻）。
とします。
[図データ]
（例1）
-Xオプションにyesを指定した場合の「%P」の出力情報
 
ajsshow -f "次回予定＝%P %C %J" -g  1 -X yes  /group1
 
出力結果
 
次回予定＝20XX/08/13 08:00 正常終了 /group1/jobnet003
 
解説
この場合は，プランニンググループの下にあるルートジョブネットの中で，次回実行予定のユニット（/group1/jobnet001）の次回実行開始時刻が出力されます。
（例2）
-Xオプションにnoを指定した場合「%P」の出力情報
 
ajsshow -f "次回予定＝%P %C %J" -g  1 -X no  /group1/jobnet003
 
出力結果
 
次回予定＝20XX/08/15 10:00 正常終了 /group1/jobnet003
 
解説
この場合は，指定したユニット（group1/jobnet003）の次回実行開始予定時刻を出力します。
（例3）
-Xオプションにyesを指定した場合の「%G」の出力情報
 
ajsshow -f "世代＝%G 開始時刻＝%S %C %J" -g  3 -X yes  /group1
 
出力結果
 
世代＝1 開始時刻＝20XX/08/12 10:00 正常終了 /group1/jobnet003
世代＝2 開始時刻＝20XX/08/11 09:00 正常終了 /group1/jobnet002
世代＝3 開始時刻＝20XX/08/10 08:00 正常終了 /group1/jobnet001
 
解説
この場合，プランニンググループの下にあるルートジョブネットの実行情報を統合した結果から求めた世代番号が出力されます。
（例4）
-Xオプションにnoを指定した場合の「%G」の出力情報
 
ajsshow -f "世代＝%G 開始時刻＝%S %C %J" -g  3 -X  no  /group1/jobnet001
 
出力結果
 
世代＝1 開始時刻＝20XX/08/10 08:00 正常終了 /group1/jobnet001
世代＝2 開始時刻＝20XX/08/07 08:00 正常終了 /group1/jobnet001
世代＝3 開始時刻＝20XX/08/04 08:00 正常終了 /group1/jobnet001
 
解説
この場合は，指定したユニットの実行情報を基にした世代番号が出力されます。
（例5）
-Xオプションにyesを指定した場合の「%l」の出力情報
 
ajsshow -f "登録番号＝%l 開始時刻＝%S %C %J" -b 20XX/8/3  -X yes  /group1
 
出力結果
 
登録番号＝20XX0803001 開始時刻＝20XX/08/03 08:00 正常終了 /group1/jobnet001
登録番号＝20XX0803002 開始時刻＝20XX/08/03 09:00 正常終了 /group1/jobnet002
登録番号＝20XX0803003 開始時刻＝20XX/08/03 10:00 正常終了 /group1/jobnet003
 
解説
この場合は，プランニンググループの下にあるルートジョブネットの実行情報を統合した結果から求めた実行登録番号が出力されます。
（例6）
-Xオプションにnoを指定した場合の「%l」の出力情報
 
ajsshow -f "登録番号＝%l 開始時刻＝%S %C %J" -b 20XX/8/3  -X no  /group1/jobnet003
 
出力結果
 
登録番号＝20XX0803001 開始時刻＝20XX/08/03 10:00 正常終了 /group1/jobnet003
 
解説
この場合は，指定したジョブネットの実行情報を基にした実行登録番号が出力されます。
補足事項3

異常終了したジョブの推定所要時間を算出する例を次に示します。

（例1）
異常終了したジョブをすぐに再実行するかどうかを判断するときの推定所要時間の算出方法を，次のジョブネット構成例を使って示します。
[図データ]
 
ジョブ（/jobnet1/nestjobnet001/job3）とジョブ（/jobnet1/nestjobnet002/job2）が異常検出終了しています。
-v，-wオプションを指定した場合の「%ab」の出力情報および出力結果を次に示します。
出力情報
 
ajsshow -i "推定所要時間＝%ab UnitName=%JJ" -v 20XX/2/12 -w 20XX/8/12 -RN /jobnet1
 
出力結果
 
推定所要時間＝07:00:00 UnitName＝/jobnet1
推定所要時間＝07:00:00 UnitName＝/jobnet1/nestjobnet001
推定所要時間＝03:00:00 UnitName＝/jobnet1/nestjobnet002
 
解説
出力結果から，jobnet001は7時間掛かるためこのユニット（jobnet1/nestjobnet001）だけを夜間に再実行する，またはnestjobnet002は3時間で終わるためこのユニット（jobnet1/nestjobnet002）だけを今すぐに再実行する，などの判断ができます。
（例2）
異常終了したジョブの後続のジョブネットに，実行開始予定時刻が指定されているとします。このとき，再実行開始によってジョブが終了した時刻が，後続ジョブネットの実行開始予定時刻より前の場合とあとの場合とで，推定所要時間の計算値が変わることがあります。
再実行開始によるジョブの終了時刻が後続ジョブネットの実行開始予定時刻より前の場合
[図データ]

ジョブ（/jobnet1/nestjobnet001/job2）が異常検出終了しています。後続ジョブネット（/jobnet1/nestjobnet002）の開始予定時刻は05:00です。
03:00から再実行を開始するとした場合，ジョブ（/jobnet1/nestjobnet001/job2）が03:00～04:00に実行され，nestjobnet001は04:00に終了します。その後，nestjobnet002は開始予定時刻の05:00になるまで待ち，05:00に実行されて07:00に終了します。出力情報および出力結果を次に示します。
出力情報
 
ajsshow -i "推定所要時間＝%ab UnitName＝%JJ" -v 20XX/8/21 -w 20XX/8/21 -d 20XX/8/21 -h 3:00 -RN /jobnet1
 
出力結果
 
推定所要時間＝04:00:00 UnitName＝/jobnet1
推定所要時間＝01:00:00 UnitName＝/jobnet1/nestjobnet001
推定所要時間＝02:00:00 UnitName＝/jobnet1/nestjobnet002
 
解説
出力結果から，jobnet1の推定所要時間は3:00～7:00ということで，4時間と算出されます。
 
再実行開始によるジョブの終了時刻が後続ジョブネットの実行開始予定時刻よりあとの場合
[図データ]

ジョブ（/jobnet1/nestjobnet001/job2）が異常検出終了しています。後続ジョブネット（/jobnet1/nestjobnet002）の開始予定時刻は05:00です。
05:00から再実行を開始するとした場合，ジョブ（/jobnet1/nestjobnet001/job2）が05:00～06:00に実行され，nestjobnet001は06:00に終了します。このとき，開始予定時刻の05:00を過ぎているnestjobnet002が直ちに実行されて08:00に終了します。出力情報および出力結果を次に示します。
出力情報
 
ajsshow -i "推定所要時間＝%ab UnitName＝%JJ" -v 20XX/8/21 -w 20XX/8/21 -d 20XX/8/21 -h 5:00 -RN /jobnet1
 
出力結果
 
推定所要時間＝03:00:00 UnitName＝/jobnet1
推定所要時間＝01:00:00 UnitName＝/jobnet1/nestjobnet001
推定所要時間＝02:00:00 UnitName＝/jobnet1/nestjobnet002
 
解説
出力結果から，jobnet1の推定所要時間は5:00～8:00ということで，3時間と算出されます。
 
このように，推定所要時間を算出する際に-d，-hオプションを指定することで，何時から再実行を開始したら所要時間がどれだけ掛かるのかを算出できます。
 
補足事項4

ジョブネットコネクタと接続先のジョブネットコネクタが異なるホストまたは異なるスケジューラーサービスに定義されている場合，-iオプションで「%CI」を指定しても「***」と出力されます。

異なるホストまたは異なるスケジューラーサービスで，ジョブネットコネクタおよび接続先のジョブネットの実行IDを確認したい場合は，次の手順でajsshowコマンドをリモート実行してください。

ajsshowコマンドをリモート実行し，接続相手のホスト名，スケジューラーサービス名，およびユニット完全名を求める。
次のコマンドを実行します。
 
ajsshow -v 20XX/07/01 -i "%CH %CF %CN" ユニット名
 
手順1で出力された情報を基に，接続相手の実行IDを求める。
次のコマンドを実行します。
 
手順1で出力されたホスト名:手順1で出力されたスケジューラーサービス名:ajsshow -v 20XX/07/01 -i "%CI" ユニット名
 
補足事項5

-gオプションにaを指定した場合，起動条件を設定したジョブネットの実行結果情報は，開始予定日時の遅い世代から順に出力されます。

起動条件が設定されているジョブネットを実行登録した場合，開始時刻に到達すると，起動条件を監視する世代が作成されます。これと同時に起動条件待ち状態の世代が作成され，起動条件が成立するとこの世代が実行されます。

起動条件待ちの世代も起動条件成立によって実行した世代も，監視中の世代と同じ開始予定日時が仮定されます。起動条件を使用する運用と，起動条件を使用しない運用を併用している場合は，実行結果情報の出力順に注意してください。

保存世代数が「10」の場合で，ジョブネット（net）を起動条件を設定して実行登録後，起動条件を設定しないで実行登録したときの例を次に示します。

[図データ]

この例では，ジョブネット（net）を3/1に起動条件を設定して実行登録し，起動条件を監視する世代が作成されています（図中の1-0）。同時に起動条件待ち状態の世代が作成され，それぞれ3/2，3/4，3/5に起動条件が成立して実行されています（図中の1-1，1-2，1-3）。

また，3/3にジョブネット（net）の起動条件を設定しないで実行登録しています（図中の2）。

出力情報
 
ajsshow -f "世代=%G %J %# %C" -g a -T /net
 
出力結果
 
世代=1 /net @A103 正常終了
世代=2 /net @A105 起動条件待ち※
世代=3 /net @A104 正常終了※
世代=4 /net @A102 正常終了※
世代=5 /net @A101 正常終了※
世代=6 /net @A100 監視中※
 
注※　起動条件を設定した世代の実行結果情報です。
解説
ajsshowコマンドで実行結果情報を出力した場合，ジョブネット（net）の最新の実行結果として世代1には3/3に実行登録したジョブネットの実行結果が出力されます。また，世代2から世代6には3/1に起動条件を設定して実行登録したジョブネットの実行結果が，最後に起動条件成立した世代から順番に出力されます。
使用例1

ジョブネット（net1），およびそのジョブネット中のジョブネットやジョブの実行結果を標準出力ファイルに出力します。

 
ajsshow -l net1
 
使用例2

ジョブグループ（group1）に含まれるジョブネットの実行結果を2世代分出力します。表示する情報は，ジョブネット完全名，実行開始日時，および実行終了日時です。

 
ajsshow -t"世代: %G" -g2 -f"%J %S %E" -RE /group1
 
出力例
 
世代: 1
/group1/net1 20XX/06/08  10:00 20XX/06/08  12:00
世代: 2
/group1/net1 20XX/06/01  10:00 20XX/06/01  11:30
世代: 1
/group1/net2 20XX/06/08  11:00 20XX/06/08  11:30
世代: 2
/group1/net2 20XX/06/01  11:00 20XX/06/01  12:00
 
使用例3

ジョブネット（net）の2009年7月分（2009/7/1～2009/7/31）の実行予定情報（ジョブネット名，世代番号，実行開始日時の予定）を出力します。同時に，タイトル行に出力対象の期間も表示します。

 
ajsshow -t"◆◆期間◆◆%v～%w" -f" %j %G %B" -b 2009/7/1 -e 2009/7/31 /net
 
出力例
 
◆◆期間◆◆2009/7/1  00:00:00～2009/7/31 23:59:59
 net -5  2009/7/7   10:00
◆◆期間◆◆2009/7/1  00:00:00～2009/7/31 23:59:59
 net -6  2009/7/14  10:00
◆◆期間◆◆2009/7/1  00:00:00～2009/7/31 23:59:59
 net -7  2009/7/21  10:00
◆◆期間◆◆2009/7/1  00:00:00～2009/7/31 23:59:59
 net -8  2009/7/31  10:00
 
使用例4

実行登録番号が20090701001であるジョブネット（net）中のジョブ（job1）の，標準エラー出力ファイル名を出力します。環境設定パラメーターJOBINFDIRには，ジョブエラー情報ディレクトリ（/var/opt/jp1ajs2/jobinf）が定義されています。

 
ajsshow -B 20090701001 -r /net/job1
 
出力例
 
/var/opt/jp1ajs2/jobinf/e/67/0.e.err
 
使用例5

次に示すジョブネット（net）およびジョブネット下のジョブ（job1，job2，job3）について，-b，-e，-v，-wオプションで期間を指定し，実行開始日時および実行終了日時を出力します。

[図データ]

-b，-eオプションに2009/7/21を指定した場合
 
ajsshow -b 2009/07/21 -e 2009/07/21  -f "%S %E %J"  -R /net
 
出力例
 
2009/07/21 10:00 2009/07/22 06:00 /net
2009/07/21 16:00 2009/07/21 21:00 /net/job1
2009/07/21 21:00 2009/07/22 02:00 /net/job2
 
解説
暦日が出力対象になります。
2009/07/21に実行が開始するnet，およびnet下のjob1，job2の情報が出力されます。
-v，-wオプションに2009/07/21を指定した場合
 
ajsshow -v 2009/07/21 -w 2009/07/21  -f "%S %E %J"  -R /net
 
出力例
 
2009/07/21 10:00 2009/07/22 06:00 /net
2009/07/21 16:00 2009/07/21 21:00 /net/job1
2009/07/21 21:00 2009/07/22 02:00 /net/job2
2009/07/22 02:00 2009/07/22 06:00 /net/job3
 
解説
ジョブネットの実行日が出力対象になります。
netの実行日が2009/07/21なので，netおよびnet下の三つのジョブの情報が出力されます。
-b，-eオプションに2009/07/22を指定した場合
 
ajsshow -b 2009/07/22 -e 2009/07/22  -f "%S %E %J"  -R /net
 
出力例
 
2009/07/21 10:00 2009/07/22 06:00 /net
2009/07/21 21:00 2009/07/22 02:00 /net/job2
2009/07/22 02:00 2009/07/22 06:00 /net/job3
 
解説
暦日が出力対象になります。
2009/07/22に実行が終了するjob2，および2009/07/22に実行が開始するjob3の情報が出力されます。
-v，-wオプションに2009/07/22を指定した場合
 
ajsshow -v 2009/07/22 -w 2009/07/22  -f "%S %E %J"  -R -/net
 
解説
ジョブネットの実行日が出力対象になります。
netの実行日は2009/07/21であるため，-v，-wオプションに2009/07/22を指定しても，情報は何も出力されません。
使用例6

-iオプションで，ジョブネットコネクタおよび接続先のジョブネットの情報を出力します。

ジョブネットコネクタ
ホスト名：HOSTA
スケジューラーサービス名：AJSROOT1
ユニット名：/JC/ジョブネットコネクタ
実行ID：@A544
接続先のジョブネット
ホスト名：HOSTB
スケジューラーサービス名：AJSROOT2
ユニット名：/JC-NET
実行ID：@A546
-iオプションでジョブネットコネクタを指定した場合
 
ajsshow -i "%JJ %TT %CH %CF %CN %CI %CS" /JC/ジョブネットコネクタ
 
出力例
 
/JC/ジョブネットコネクタ netcn HOSTB AJSROOT2 /JC-NET @A546 ***
 
-iオプションで接続先のジョブネットを指定した場合
 
ajsshow -i "%JJ %TT %CH %CF %CN %CI %CS" /JC-NET
 
出力例
 
/JC-NET net HOSTA AJSROOT1 /JC/ジョブネットコネクタ @A544 非同期
 
使用例7

2009/08/06～2009/08/07に実行する，ジョブネット（net）中のジョブ（job1）の標準出力ファイル名を出力します。環境設定パラメーターJOBINFDIRには，ジョブ情報格納ディレクトリ（C:\Program Files\HITACHI\JP1AJS2\jobinf）が定義されています。

 
ajsshow -b 2009/08/06 -e 2009/08/07 -i "%so" /net/job1
 
出力例
 
C:\Program Files\HITACHI\JP1AJS2\jobinf\d\6e\0.e.std
 
出力例1

-sオプションを指定した場合
[図データ]

-pオプションを指定した場合
[図データ]

-lオプションを指定した場合
[図データ]

出力項目の説明（括弧内は言語種別が英語の場合）

AJSPATH=
ジョブネット完全名，またはジョブ完全名の内容から，「名称」で表示するジョブネット名，またはジョブ名を除いた内容を示します。
名称（Name）
ジョブネット名，またはジョブ名を示します。
種別（Type）
ユニットの種別を示します。
mgroup：マネージャージョブグループ
group：ジョブグループ
mnet：マネージャージョブネット
condn：起動条件（.CONDITION）
net：ジョブネット
rnet：リカバリージョブネット
rmnet：リモートジョブネット
rrnet：リカバリーリモートジョブネット
job：UNIXジョブ
rjob：リカバリーUNIXジョブ
pjob：PCジョブ
rpjob：リカバリーPCジョブ
qjob：QUEUEジョブ
rqjob：リカバリーQUEUEジョブ
jdjob：判定ジョブ
rjdjob：リカバリー判定ジョブ
orjob：ORジョブ
rorjob：リカバリーORジョブ
cmsjb：JP1/Cm2状態通知ジョブ
rcmsjb：リカバリーJP1/Cm2状態通知ジョブ
evwjb：JP1イベント受信監視ジョブ
revwjb：リカバリーJP1イベント受信監視ジョブ
flwjb：ファイル監視ジョブ
rflwjb：リカバリーファイル監視ジョブ
mlwjb：メール受信監視ジョブ
rmlwjb：リカバリーメール受信監視ジョブ
mqwjb：メッセージキュー受信監視ジョブ
rmqwjb：リカバリーメッセージキュー受信監視ジョブ
mswjb：MSMQ受信監視ジョブ
rmswjb：リカバリーMSMQ受信監視ジョブ
lfwjb：ログファイル監視ジョブ
rlfwjb：リカバリーログファイル監視ジョブ
ntwjb：Windowsイベントログ監視ジョブ
rntwjb：リカバリーWindowsイベントログ監視ジョブ
tmwjb：実行間隔制御ジョブ
rtmwjb：リカバリー実行間隔制御ジョブ
evsjb：JP1イベント送信ジョブ
revsjb：リカバリーJP1イベント送信ジョブ
mlsjb：メール送信ジョブ
rmlsjb：リカバリーメール送信ジョブ
mqsjb：メッセージキュー送信ジョブ
rmqsjb：リカバリーメッセージキュー送信ジョブ
mssjb：MSMQ送信ジョブ
rmssjb：リカバリーMSMQ送信ジョブ
pwljb：ローカル電源制御ジョブ
rpwljb：リカバリーローカル電源制御ジョブ
pwrjb：リモート電源制御ジョブ
rpwrjb：リカバリーリモート電源制御ジョブ
cuujb：カスタムUNIXジョブ
rcuujb：リカバリーカスタムUNIXジョブ
cupjb：カスタムPCジョブ
rcupjb：リカバリーカスタムPCジョブ
hlnet：ホストリンクジョブネット
netcn：ジョブネットコネクタ
n：ジョブグループ
p：プランニンググループ
状態（Status）
ジョブネットの状態，またはジョブの状態を示します。
次回実行予定（Plan）
表示したジョブネット，またはジョブの次回実行予定の有無を示します。
括弧内は言語種別が英語の場合の表示です。
あり（exist）：次回実行予定あり
なし（none）：次回実行予定なし
登録者（Registrant）
ジョブネットを実行登録したユーザー名を示します。
登録日時（Registered time）
ジョブネットを実行登録した日時を示します。
次回実行予定日時（Next execution time）
次回実行予定日時を示します。
次回実行予定がない場合は，****/**/** **:**と示します。
実行方法（Method）
次回実行方法を示します。
括弧内は言語種別が英語の場合の表示です。
スケジュール（schedule）：計画実行スケジュールに従って実行する
一時変更（plan）：計画を一時変更して実行する
振り替え（shift）：振り替えて実行する
コード（Code）
戻り値，またはシグナルで打ち切られた場合はそのシグナルコードを示します。
戻り値，またはシグナルコードがない場合は，***と示します。
実行開始日時（Start time）
実行開始日時を示します。
実行が開始していない場合は，****/**/** **:**と示します。
実行終了日時（End time）
実行終了日時を示します。
実行が終了していない場合は，****/**/** **:**と示します。
出力例2

-xwオプションを指定した場合

[図データ]

出力項目の説明（括弧内は言語種別が英語の場合）

AJSPATH=
ジョブネット完全名，またはジョブ完全名の内容から，待ち合わせ条件付きユニットの「名称」で表示するジョブネット名，またはジョブ名を除いた内容を示します。
待ち合わせ条件付きユニット（An unit with wait condition）
待ち合わせ条件付きユニットの情報を示します。
名称（Name）
待ち合わせ条件付きユニットのジョブネット名，またはジョブ名を示します。
世代（Generation）
待ち合わせ条件付きユニットの世代番号を示します。なお，未来世代を指定した場合は，マイナスの値で出力されます。
実行ID（Execution ID）
待ち合わせ条件付きユニットの実行IDを示します。
状態（Status）
待ち合わせ条件付きユニットの状態を示します。
待ち合わせ方法（Wait method）
待ち合わせ方法を示します。
AND：すべての待ち合わせが完了したら，待ち合わせ条件が成立します。
OR：一つでも待ち合わせが完了したら，待ち合わせ条件が成立します。
待ち合わせる世代がない場合（No generations to wait for）
待ち合わせ対象ユニットに待ち合わせる世代がない場合の，待ち合わせ条件付きユニットの動作を示します。
実行を開始する（Execute）：待ち合わせ対象ユニットに待ち合わせる世代がない場合，待ち合わせ条件付きユニットは実行を開始します。
実行を開始しない（Do not execute）：待ち合わせ対象ユニットに待ち合わせる世代がない場合，待ち合わせ条件付きユニットは実行を開始しないで待ち続けます。
待ち合わせ状態（Wait status）
待ち合わせ対象ユニットとの待ち合わせ状態を示します。
未完了（Incomplete）：待ち合わせは完了していません。
完了（Complete）：待ち合わせは完了しました。
未完了（手動）（Incomplete_manually）：待ち合わせ有効化操作によって，待ち合わせは未完了と見なされます。
完了（手動）（Complete_manually）：待ち合わせ無効化操作によって，待ち合わせは完了したものと見なされます。
待ち合わせ対象ユニット（Unit whose end is being waited for）
待ち合わせ対象ユニットの情報を示します。
状態（Status）
待ち合わせ対象ユニットの状態を示します。待ち合わせ対象にプランニンググループを設定していた場合，実際に待ち合わせるプランニンググループ配下のユニットの状態を示します。
次の場合，「***」を出力します。
待ち合わせ対象ユニットの定義不正
待ち合わせ対象ユニットに待ち合わせる世代がない
待ち合わせ対象ユニットが未登録
実行ID（Execution ID）
待ち合わせ対象ユニットの実行IDを示します。待ち合わせ対象にプランニンググループを設定していた場合，実際に待ち合わせるプランニンググループ配下のユニットの実行IDを示します。
次の場合，「***」を出力します。
待ち合わせ対象ユニットの定義不正
待ち合わせ対象ユニットに待ち合わせる世代がない
待ち合わせ対象ユニットが未登録
コメント（Comment）
待ち合わせ対象ユニットのコメントを示します。待ち合わせ対象にプランニンググループを設定していた場合，実際に待ち合わせるプランニンググループ配下のユニットのコメントを示します。
次の場合，「***」を出力します。
待ち合わせ対象ユニットの定義不正
待ち合わせ対象ユニットに待ち合わせる世代がない
待ち合わせ対象ユニットが未登録
待ち合わせ対象ユニットに対して参照権限がない
名称（Name）
待ち合わせ対象ユニットの完全名を示します。